@model School.web.ViewModel.SubjectListing

@{

    ViewBag.Title = "Subject";
}

@if (Model != null && Model.subjects.Count > 0)

{
    <form method="post">
        <div class="row">

            <div class="col-md-6">

                &nbsp;
                <button type="button" class="btn btn-success" id="tonewbtn" style="width:100px"><i class="fa fa-plus-circle" aria-hidden="true"></i>&nbsp;New</button>


                <br />

            </div>

        </div>
    </form>
    <table class="table table-hover">
        <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.subjects)
            {
                <tr>

                    <td>@item.Id</td>
                    <td>@item.Name</td>
                    <td>
                        <button class="tobtnEdit btn btn-default" data-id="@item.Id" style="height:35px"><i class="fas fa-edit" aria-hidden="true"></i>&nbsp;Edit</button>
                        <button class="tobtndelete btn btn-danger" data-id="@item.Id" style="height:35px">
                            <i class="far fa-trash-alt" aria-hidden="true"></i>
                            Delete
                        </button>
                    </td>
                </tr>
            }

        </tbody>
    </table>
}
else
{
    <form method="post">
        <div class="row">

            <div class="col-md-6">

                &nbsp;
                <button type="button" class="btn btn-success" id="tonewbtn" style="width:100px"><i class="fa fa-plus-circle" aria-hidden="true"></i>&nbsp;New</button>


                <br />

            </div>

        </div>
    </form>
}
<script>
         $("#tonewbtn").click(function () {

                $.ajax({

                    url: '@Url.Action("Create", "Subject")'


                }).done(function (response) {
                    $("#newatncon").html(response);
                    focusAction("newatncon");

                }).fail(function (XMLHttpRequest, textStatus, errorThrown) {
                    alert("F");
                });

            });
</script>